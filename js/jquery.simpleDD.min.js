/*!
 *
 * jQuery simpleDD
 *
 * A simple jQuery drop down plugin
 *
 * @author			Tim Bennett
 * @version			1.6.1
 * @license			www.texelate.co.uk/mit-license/
 *
 * Download the latest version at www.texelate.co.uk/lab/project/simple-dd/
 *
 * Copyright (c) 2014 - 2015 Texelate Ltd, www.texelate.co.uk
 *
 */
(function(a){a.fn.simpleDD=function(j){var c={timeout:500,dropdownElement:".simpledd-child",closeElement:".simpledd-close",hoverClass:"simpledd-over",keepOtherMenusOpen:false,closeMenusOnOutsideClick:true,closeMenusOnLoad:false,noScriptLink:null,event:"mouseenter",onInit:function(){},onOpened:function(){},onClosed:function(){},onDestroyed:function(){}};var j=a.extend(c,j);var b=this;var i="simpledd-no-script-href";var h="simpledd-timeout";var e=this.length;var f=1;var d=(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0));if(d===true){var g="touchstart";j.event="click"}else{var g="click"}return this.each(function(){var k=a(this);if(j.noScriptLink!==null){k.find(j.noScriptLink).each(function(){var n=a(this);n.data(i,n.attr("href")).attr("href","#").on("click",function(o){o.preventDefault()})})}k.find(j.closeElement).each(function(){var n=a(this);n.on("click",function(o){o.preventDefault();l(k)})});if(j.closeMenusOnLoad===true){m()}k.on(j.event,function(){if(j.keepOtherMenusOpen===false){m()}if(k.data(h)!=="null"){clearTimeout(k.data(h));k.data(h,"null")}k.addClass(j.hoverClass).find(j.dropdownElement).eq(0).css("display","block");j.onOpened.call(this)});k.on("mouseleave",function(){if(k.find(j.dropdownElement).eq(0).is(":visible")===true){k.data(h,setTimeout(function(){l(k)},j.timeout))}});if(j.closeMenusOnOutsideClick===true){a("html, body").on(g,function(n){m()});k.on("click",function(n){n.stopPropagation()})}a.fn.closeAllDropDowns=function(){m()};a.fn.destroy=function(){var n=a(this);m();if(j.noScriptLink!==null){n.find(j.noScriptLink).each(function(){var o=a(this);o.attr("href",o.data(i)).removeData(i)})}n.off(j.event);j.onDestroyed.call(this)};function l(n){n.removeClass(j.hoverClass).find(j.dropdownElement).eq(0).css("display","none");j.onClosed.call(this)}function m(){b.each(function(){l(a(this))})}f++;if(f===e){j.onInit.call(this)}})}})(jQuery);