/*!
 *
 * jQuery simpleDD
 *
 * A simple jQuery drop down plugin
 *
 * @author			Tim Bennett
 * @version			1.7.1
 * @license			www.texelate.co.uk/mit-license/
 *
 * Download the latest version at www.texelate.co.uk/lab/project/simple-dd/
 *
 * Copyright (c) 2014 - 2015 Texelate Ltd, www.texelate.co.uk
 *
 */
(function(a){a.fn.simpleDD=function(n){var c={timeout:500,dropdownElement:".simpledd-child",closeElement:".simpledd-close",hoverClass:"simpledd-over",closeMenusOnOutsideClick:true,closeMenusOnLoad:false,noScriptLink:null,event:"mouseenter",onInit:function(){},onOpened:function(){},onClosed:function(){},onDestroyed:function(){}};var n=a.extend(c,n);var b=this;var k="simpledd-no-script-href";var g="simpledd-timeout";var e=this.length;var f=1;var d=(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0));var h=(navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?true:false);var j=a("html, body");var m=false;function l(p){var o=a(p);if(o.find(n.dropdownElement).eq(0).is(":visible")===true){o.removeClass(n.hoverClass).find(n.dropdownElement).eq(0).css("display","none");if(o.data(g)!=="null"){clearTimeout(o.data(g));o.data(g,"null")}n.onClosed.call(p)}}function i(){b.each(function(){l(this)})}if(h===true){j.css("cursor","pointer").css("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)")}if(d===true){n.event="click"}if(n.closeMenusOnOutsideClick===true){j.on("click",function(o){i()});b.each(function(){a(this).on("click",function(o){o.stopPropagation()})})}return this.each(function(){var p=this;var o=a(this);if(n.noScriptLink!==null){o.find(n.noScriptLink).each(function(){var q=a(this);q.data(k,q.attr("href")).attr("href","#").on("click",function(r){r.preventDefault()})})}o.find(n.closeElement).each(function(){a(this).on("click",function(q){if(n.event==="click"){l(this)}else{l(p)}q.preventDefault()})});if(n.closeMenusOnLoad===true){i()}o.on(n.event,function(q){if(n.event=="click"&&n.noScriptLink!==null&&o.find(n.dropdownElement).eq(0).is(":visible")===true){l(this)}else{i();if(o.data(g)!=="null"){clearTimeout(o.data(g));o.data(g,"null")}o.addClass(n.hoverClass).find(n.dropdownElement).eq(0).css("display","block");n.onOpened.call(this)}});if(d===false){o.on("mouseleave",function(){if(o.find(n.dropdownElement).eq(0).is(":visible")===true){o.data(g,setTimeout(function(){l(p)},n.timeout))}})}f++;if(f===e){n.onInit.call(this);j.trigger("click")}a.fn.destroy=function(){if(m===false){i();b.each(function(){var q=a(this);if(q.data(g)!=="null"){clearTimeout(q.data(g));q.data(g,"null")}if(n.noScriptLink!==null){q.find(n.noScriptLink).each(function(){var r=a(this);r.attr("href",r.data(k)).removeData(k)})}q.off(n.event);j.off("click");n.onDestroyed.call(this)});m=true}}})}})(jQuery);